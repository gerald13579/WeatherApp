<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title >Weather Forecast</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  
  <ion-searchbar [(ngModel)]="cityName" placeholder="Search For City" (ionInput)="searchCity()"></ion-searchbar>

  <ion-card *ngIf="weatherData">
    <ion-item lines="none">
      <p style="font-weight: 700;">Current Weather</p>
      <ion-label slot="end">{{todayDate | date: "EEE dd MMM"}}</ion-label>
    </ion-item>

    <ion-item lines="none">
      <span style="font-size: 2.5em; font-weight: bold; margin-bottom: 10px;">
        {{(weatherData.main.temp - 273.15).toFixed(0)}} °C
      </span>
      <img slot="end" width="180px" height="180px" [src]="weatherIcon">
    </ion-item>

    <ion-item>
      <span>{{weatherData.weather[0].description | titlecase}}</span> <!-- Menampilkan deskripsi cuaca -->
    </ion-item>


    <ion-item>
      <ion-icon name="location"></ion-icon>
      <span>{{weatherData.name}}</span> <!-- Menampilkan nama kota -->
    </ion-item>

  </ion-card>

  <ion-card *ngIf="weatherData">
    <ion-item>
      <span>Maximum Temp</span>
      <span slot="end">{{(weatherData.main.temp_max - 273.15).toFixed(0)}} °C</span>
    </ion-item>

    <ion-item>
      <span>Minimum Temp</span>
      <span slot="end">{{(weatherData.main.temp_min - 273.15).toFixed(0)}} °C</span>
    </ion-item>

    <ion-item>
      <span>Humidity</span>
      <span slot="end">{{weatherData.main.humidity}} %</span>
    </ion-item>
  </ion-card>
</ion-content>
